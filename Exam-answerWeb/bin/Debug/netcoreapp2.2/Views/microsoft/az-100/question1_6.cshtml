<ul class="panelbar">
    <li class="k-state-active">
        <span class="k-link k-state-selected">Question @Model?.Id</span>
        <div>
            <p>
                @Html.Raw(Model.H1OpenTag)
                You manage a Windows Server virtual machine (VM) in Azure named prod-vm1. The VM uses managed disk storage, runs Windows Server 2012 R2, and resides in a resource group named prod-west-rg located in the West US region.
                @Html.Raw(Model.H1CloseTag)
            </p>
            <p>
                @Html.Raw(Model.H2OpenTag)
                You need to move prod-vm1 to a resource group named prod-east located in the East US region.
                @Html.Raw(Model.H2CloseTag)
            </p>
            <p>
                What should you do?
            </p>
        </div>
    </li>
    <li class="k-state-active">
        Answers
        <div>
            <p>
                <ul class="fieldlist">
                    <li class="correct">
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">Back up prod-vm1 and restore the VM to the prod-east-rg resource group. Delete the original VM instance.</label>
                    </li>
                    <li>
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">Author an Azure Resource Manager (ARM) template that moves prod-vm1 to the prod-east-rg resource group.</label>
                    </li>
                    <li>
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">Move prod-vm1 to the prod-east-rg resource group by using the Move-AzureRmResource PowerShell cmdlet.</label>
                    </li>
                    <li>
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">Use azcopy to copy prod-vm1 to the prod-east-rg resource group.</label>
                    </li>
                </ul>
            </p>
        </div>
    </li>
    <li>
        Explanation
        <div>
            <p>
                You should back up prod-vm1, restore the VM to the prod-east-rg resource group, and then delete the original VM instance. Unfortunately, managed disks are one of the few Azure resources that cannot be moved between resource groups or subscriptions. Because the VM in Azure has so many dependencies, this managed disk restriction means that you are unable to move the entire VM without redeploying the disks and configuration into the new resource group.
            </p>
            <p>
                You cannot move prod-vm1 to the prod-east-rg resource group by using the Move-AzureRmResource PowerShell cmdlet because the scenario states that the VM uses managed disk storage. If the VM used unmanaged disk storage, the Move-AzureRmResource command could move the VM to another resource group or even another Azure subscription.
            </p>
            <p>
                You cannot use azcopy to copy prod-vm1 to the prod-east-rg resource group. Azcopy is a cross-platform command-line tool with which you can copy or move binary large object (BLOB) data between storage accounts. In this case, the VM in question uses managed disk storage. Moreover, Azcopy cannot migrate VM configuration, only virtual hard disks (VHDs).
            </p>
            <p>
                You cannot author an Azure Resource Manager (ARM) template that moves prod-vm1 to the prod-east-rg resource group because it uses managed disk storage.
            </p>
        </div>
    </li>
    <li>
        References
        <div>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-move-resources" target="_blank" rel="noopener">Move resources to new resource group or subscription</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/faq-for-disks" target="_blank" rel="noopener">Frequently asked questions about Azure IaaS VM disks and managed and unmanaged premium disks</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy" target="_blank" rel="noopener">Transfer data with the AzCopy on Windows</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/download-template" target="_blank" rel="noopener">Download the template for a VM</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/powershell/module/azurerm.resources/move-azurermresource" target="_blank" rel="noopener">Move-AzureRmResource</a>
            </p>
        </div>
    </li>
</ul>
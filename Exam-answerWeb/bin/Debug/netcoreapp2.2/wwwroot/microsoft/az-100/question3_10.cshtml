<ul class="panelbar">
    <li class="k-state-active">
        <span class="k-link k-state-selected">Question @Model?.Id</span>
        <div>
            <p>
                @Html.Raw(Model.H1OpenTag)
                Your company purchases a new application and is planning to deploy it in Azure. The application requires Windows Server 2016. It also requires high-availability, so it will be deployed using a scalability set.
                @Html.Raw(Model.H1CloseTag)
            </p>
            <p>
                @Html.Raw(Model.H2OpenTag)
                You are asked to prepare the virtual machine (VM) to automatically deploy all needed requirements for the application to run. You decide to use a custom script extension.
                @Html.Raw(Model.H2CloseTag)
            </p>
            <p>
                Before deploying the custom script, you test it and ensure that the script runs with no errors in the local environment. You store the script and some dependencies needed for the application in a blob storage account.
            </p>
            <p>
                While you are testing automatic deployment, you realize that the custom script is not running.
            </p>
            <p>
                What is the reason for the custom script not running?
            </p>
        </div>
    </li>
    <li class="k-state-active">
        Answers
        <div>
            <p>
                <ul class="fieldlist">
                    <li>
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">
                            The operation is taking more than 90 minutes.
                        </label>
                    </li>
                    <li class="correct">
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">
                            You need to add an entry in the Network Security Group (NSG).
                        </label>
                    </li>
                    <li>
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">
                            You need to configure a proxy server for the custom script.
                        </label>
                    </li>
                    <li>
                        <input type="radio" name="group" id="@(Html.GetNextId())" class="k-radio">
                        <label class="k-radio-label" for="@(Html.GetNextId(true))">
                            You need to sign the script.
                        </label>
                    </li>
                </ul>
            </p>
        </div>
    </li>
    <li>
        Explanation
        <div>
            <p>
                Your custom script is failing to run because you need to add an entry in the NSG. By default, communication with external systems are restricted. If you store your script in any external resource, like Azure Storage, Github, or a local server, you need to configure the firewall/NSG.
            </p>
            <p>
                Your custom script is not failing to run because you need to sign the script. You can invoke your custom script by using the following command:
            </p>
            <p>
                powershell -ExecutionPolicy Unrestricted -File your-custom-script.ps1
            </p>
            <p>
                Your script is failing to run because the resource manager is not able to access to it due to communication restrictions.
            </p>
            <p>
                Your custom script is not failing to run because the operation is taking more than 90 minutes. The issue is that the script is not able to run at all because the resource manager is not able to access it due to communication restrictions.
            </p>
            <p>
                Your custom script is not failing to run because you need to configure a proxy server for the custom script. A custom script does not support proxy settings. If you need to use a proxy for connecting to an external resource, you can use third-party applications like curl.
            </p>
        </div>
    </li>
    <li>
        References
        <div>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/extensions/custom-script-windows" target="_blank" rel="noopener" tabindex="190">Custom Script Extension for Windows</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/tutorial-automate-vm-deployment" target="_blank" rel="noopener" tabindex="190">Tutorial - Deploy applications to a Windows virtual machine in Azure with the Custom Script Extension</a>
            </p>
            <p>
                <a href="https://docs.microsoft.com/en-us/azure/virtual-network/security-overview" target="_blank" rel="noopener" tabindex="190">Security groups</a>
            </p>
        </div>
    </li>
</ul>